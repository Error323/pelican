<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pelican>
<configuration version="1.0">

<clients>
    <FileDataClient>
        <data type="VisibilityData" adapter="AdapterLofarStationVisibilities" file="data/lofarVis.dat"/>
        <data type="AntennaPositions" adapter="AdapterAntennaList" file="data/antennaPositions.dat"/>
    </FileDataClient>
</clients>

<adapters>
    <AdapterAntennaList>
        <antennas number="96"/>
    </AdapterAntennaList>

    <AdapterLofarStationVisibilities>
        <antennas number="96"/>
        <channels number="512"/>
        <polarisations number="2"/>
        <dataBytes number="8"/>
    </AdapterLofarStationVisibilities>
</adapters>


<varsets>
    <myVarset>
        <frequencies reference="0.0" referenceChannel="0" delta="195312.5"/>
        <channels>182</channels>
        <polarisation value="x"/>
    </myVarset>
</varsets>


<modules>

    <ZenithCalibrater name="default" varset="MyVarset">
        <!-- Calibration iterations -->
        <eigenvalues number="10"/>
        <tolerance value="1.0e-4"/>

        <frequencies reference="0.0" referenceChannel="0" delta="195312.5"/>
        <channels>182</channels>
        <polarisation value="x"/>

         <!-- Switch on this option to see if we need to generate model vis internally -->
        <externalModel value="true"/>
        
        <!--  Model sky description if not in model generation module -->
        <source coordType="azel" coord1="0.0"   coord2="80.0" ampType="polxy" amp1="1.0"  amp2="0.5"/>
        <source coordType="azel" coord1="90.0"  coord2="10.0" ampType="polxy" amp1="0.75" amp2="0.5"/>
        <source coordType="azel" coord1="180.0" coord2="60.0" ampType="polxy" amp1="1.0"  amp2="0.5"/>
        <source coordType="azel" coord1="270.0" coord2="50.5" ampType="polxy" amp1="0.8"  amp2="0.5"/>
    </ZenithCalibrater>


    <ZenithModelVisibilities>
        <!-- source coord1 = az/ra coord2 = el/dec coordType="azel" or "j2000" -->
        <source coordType="azel" coord1="0.0"   coord2="80.0" ampType="polxy" amp1="1.0"  amp2="0.5"/>
        <source coordType="azel" coord1="90.0"  coord2="10.0" ampType="polxy" amp1="0.75" amp2="0.5"/>
        <source coordType="azel" coord1="180.0" coord2="60.0" ampType="polxy" amp1="1.0"  amp2="0.5"/>
        <source coordType="azel" coord1="270.0" coord2="50.5" ampType="polxy" amp1="0.8"  amp2="0.5"/>
        <channels>182</channels>
        <frequencies reference="0.0" referenceChannel="0" delta="195312.5"/>
        <polarisation value="x"/>
    </ZenithModelVisibilities>


    <ZenithImagerDft>
        <size l="512" m="512" pixelCentred="true"/>
        <fullSky value="true" cutHemisphere="true"/>
        <polarisation value="x"/>
        <pointSpreadFunction value="false"/>
        <channels>182</channels>
        <frequencies reference="0.0" referenceChannel="0" delta="195312.5"/>
        <useModelVis value="true"/>
    </ZenithImagerDft>


    <ImageWriterFits>
        <overwrite value="true"/>
        <directory value=""/>
        <file name="test.fits" prefix="" suffix=""/>

        <!-- <cube value="true"/> -->

        <dateObs value=""/>
        <origin value="Oxford e-Research Centre"/>
        <telescope value="LOFAR"/>
        <instrument value="Effelsberg"/>
        <observer value=""/>
        <object value="full sky"/>
        <author value=""/>
        <reference value=""/>
         <equinox value="2000.0"/>
    </ImageWriterFits>

</modules>

</configuration>
