<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pelican>
<configuration version="1.0">

<clients>
    <FileDataClient>
        <data type="VisibilityData" adapter="AdapterLofarStationVisibilities" file="data/lofarVis.dat"/>
        <data type="AntennaPositions" adapter="AdapterAntennaList" file="data/antennaPositions.dat"/>
    </FileDataClient>
</clients>


<adapters>
    <AdapterAntennaList>
        <antennas number="96"/>
    </AdapterAntennaList>

    <AdapterLofarStationVisibilities>
        <time start="" delta=""/>
        <antennas number="96"/>
        <channels number="512"/>
        <polarisations number="2"/>
        <dataBytes number="8"/>
        <rowMajor value="true"/>
    </AdapterLofarStationVisibilities>
</adapters>


<varsets>

    <varset name="channels">
        <!-- <frequencies reference="3.554687500e7" delta="195312.5"/>  -->
        <frequencies reference="0.0" referenceChannel="0" delta="195312.5"/>
        <channels>182</channels>
        <polarisation value="x"/>
    </varset>


    <varset name="astrometry">
        <siteLongitude value="0"/>
        <siteLatitude value="0"/>
        <deltaUT value="0"/>
        <pressure value="1000"/>
    </varset>


    <varset name="sourcesSJW">
        <!-- Stefan's positions -->
        <source coordType="azel" coord1="-4.71694127387953" coord2="82.12031315483448" amp1="11000" amp2="0.5"/>
        <source coordType="azel" coord1="-85.19272496550460" coord2="53.05074784160009" amp1="8100" amp2="0.5"/>
    </varset>

</varsets>


<modules>

    <ZenithCalibrater>
        <eigenvalues number="10"/>
        <tolerance value="1.0e-3"/>
        <iterations value="100"/>
        <varset name="channels"/>
    </ZenithCalibrater>


    <ZenithModelVisibilities>
        <varset name="sourcesSJW"/>
        <varset name="channels"/>
    </ZenithModelVisibilities>


    <ZenithImagerDft>
        <size l="256" m="256" pixelCentred="true"/>
        <fullSky value="true" cutHemisphere="true"/>
        <varset name="channels"/>
        <!-- Visibility types are "raw", "model", "calibrated" or "psf" (only first letter required) -->
        <visibility type="cal"/>
    </ZenithImagerDft>


    <ImageWriterFits>
        <overwrite value="true"/>
        <directory value=""/>
        <file name="test.fits" prefix="" suffix=""/>

        <origin value="Oxford e-Research Centre"/>
        <telescope value="LOFAR"/>
        <instrument value="Effelsberg"/>
        <observer value=""/>
        <object value="full sky"/>
        <author value=""/>
        <reference value=""/>
    </ImageWriterFits>

</modules>

</configuration>
